<!DOCTYPE html>
<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}">

    <!-- PLEASE CHANGE THIS WHEN WE DECIDE NAME-->
    <title> HTN 2019 Project </title>

    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
       #map {
        height: 100%;
        width: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <nav class="navbar navbar-default">
          <div class="container-fluid">
            <div class="navbar-header">
              <a class="navbar-brand" href="/">HTN 2019 Project</a> <!-- AGAIN, CHANGE THIS NAME-->
            </div>
          </div>
        </nav>
    </header>

    <div id="map"></div>

    <script>
      function initMap() {
        recommendations = {{ recommendations|tojson }};

        var rec1Coord = new google.maps.LatLng(recommendations[0][0], recommendations[0][1]);
        var rec1Title = recommendations[0][2];

        var rec2Coord = new google.maps.LatLng(recommendations[1][0], recommendations[1][1]);
        var rec2Title = recommendations[1][2];

        var rec3Coord = new google.maps.LatLng(recommendations[2][0], recommendations[2][1]);
        var rec3Title = recommendations[2][2];

        var rec4Coord = new google.maps.LatLng(recommendations[3][0], recommendations[3][1]);
        var rec4Title = recommendations[3][2];

        var rec5Coord = new google.maps.LatLng(recommendations[4][0], recommendations[4][1]);
        var rec5Title = recommendations[4][2];

        console.log(typeof rec1Title)

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: rec1Coord
        });

        var rec1Marker = new google.maps.Marker({
            position: rec1Coord,
            map: map,
            title: rec1Title
        });

        var rec2Marker = new google.maps.Marker({
            position: rec2Coord,
            map: map,
            title: rec2Title
        });

        var rec3Marker = new google.maps.Marker({
            position: rec3Coord,
            map: map,
            title: rec3Title
        });

        var rec4Marker = new google.maps.Marker({
            position: rec4Coord,
            map: map,
            title: rec4Title
        });

        var rec5Marker = new google.maps.Marker({
            position: rec5Coord,
            map: map,
            title: rec5Title
        });
      }

    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDySz37lxM4MpNo3tuUEVF7SOk26eDAr-8&callback=initMap">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  </body>
</html>